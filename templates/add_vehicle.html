<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Vehicle </title>
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/add_vehicle.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer"/>
</head>
<body>
<div class="add-vehicle-container">
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>Fleet Management</h2>
        </div>
        <hr class="sidebar-divider">
        <ul class="sidebar-menu">
            <li>
                <a href="/vehicles"><i class="fa-solid fa-car"></i> Vehicles</a>
            </li>
            <li>
                <a href="/logout"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
            </li>
        </ul>
    </aside>

    <!-- Main Content Area -->
    <main class="content">
        <h2><i class="fa-solid fa-plus"></i> Add New Vehicle</h2>
        <form method="POST" class="add-vehicle-form">
            <label for="name">Vehicle Name</label>
            <input type="text" id="name" name="name" required placeholder="Enter vehicle name">

            <label for="vehicle_type">Vehicle Type</label>
            <input type="text" id="vehicle_type" name="vehicle_type" required placeholder="Enter vehicle type">

            <label for="model">Model</label>
            <input type="text" id="model" name="model" required placeholder="Enter vehicle model">

            <label for="year">Year</label>
            <input type="number" id="year" name="year" required min="1900" max="{{ current_year }}" placeholder="Enter year">

            <label for="tank_capacity">Tank Capacity (liters)</label>
            <input type="number" id="tank_capacity" name="tank_capacity" required placeholder="Enter tank capacity">

            <label for="image_url">Image URL</label>
            <input type="url" id="image_url" name="image_url" required placeholder="Enter image URL" oninput="previewImage()">

            <img id="image_preview" src="#" alt="Image Preview" style="display:none; max-width: 300px; margin-top: 10px; border: 1px solid #ddd; border-radius: 8px;">

            <button type="submit" class="btn">Add Vehicle</button>
        </form>
    </main>
</div>

<script>
    function previewImage() {
        const input = document.getElementById('image_url');
        const preview = document.getElementById('image_preview');
        if (input.value) {
            preview.src = input.value;
            preview.style.display = 'block';
        } else {
            preview.style.display = 'none';
        }
    }
</script>
</body>
</html>
